{
  "pluginAlias": "HueTransitions",
  "pluginType": "platform",
  "singular": true,
  "headerDisplay": "Homebridge plugin for Philips Hue scenes with configurable transition durations. For help and documentation please see the [GitHub repository](https://github.com/jay-d-tyler/homebridge-hue-transitions).",
  "footerDisplay": "**Tip:** After configuring your bridge details and saving, restart Homebridge and check the logs to see all available scenes with their IDs.",
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Name",
        "type": "string",
        "default": "Hue Transitions",
        "required": true,
        "description": "Name to display in the Homebridge log"
      },
      "bridgeIp": {
        "title": "Bridge IP Address",
        "type": "string",
        "format": "ipv4",
        "placeholder": "192.168.1.100",
        "description": "IP address of your Hue bridge (leave empty for auto-discovery)"
      },
      "apiKey": {
        "title": "API Key",
        "type": "string",
        "placeholder": "Your Hue API key / username",
        "description": "API key for your Hue bridge. See the README for instructions on how to create one."
      },
      "scenes": {
        "title": "Scenes",
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "id": {
              "title": "Scene ID",
              "type": "string",
              "required": true,
              "placeholder": "Copy from logs below",
              "description": "UUID of the scene from your Hue bridge"
            },
            "name": {
              "title": "Scene Name",
              "type": "string",
              "required": true,
              "placeholder": "e.g., Sunset, Morning Routine",
              "description": "Display name in HomeKit"
            },
            "transitionDuration": {
              "title": "Transition Duration",
              "type": "integer",
              "default": 30,
              "minimum": 1,
              "maximum": 60,
              "required": true,
              "description": "Minutes"
            }
          }
        }
      },
      "pollingInterval": {
        "title": "Polling Interval (milliseconds)",
        "type": "integer",
        "default": 60000,
        "minimum": 60000,
        "maximum": 300000,
        "description": "How often to check scene status (60000-300000ms, default 60000ms = 1 minute)"
      },
      "debug": {
        "title": "Enable Debug Logging",
        "type": "boolean",
        "default": false,
        "description": "Enable detailed debug logging for troubleshooting"
      }
    }
  },
  "layout": [
    {
      "type": "flex",
      "flex-flow": "row wrap",
      "items": [
        {
          "type": "flex",
          "flex-flow": "column",
          "items": ["name"],
          "flex": "1 1 50%"
        }
      ]
    },
    {
      "type": "fieldset",
      "title": "Hue Bridge Configuration",
      "expandable": false,
      "items": [
        {
          "type": "help",
          "helpvalue": "<p class='help-block'><strong>Quick Setup:</strong></p><ol><li>The plugin will auto-discover your Hue bridge</li><li>Check the logs for instructions to create an API key</li><li>Press the link button on your Hue bridge</li><li>Run the command from the logs to get your API key</li><li>Enter the API key above and click Save</li></ol>"
        },
        "bridgeIp",
        "apiKey"
      ]
    },
    {
      "type": "fieldset",
      "title": "Scene Configuration",
      "expandable": false,
      "items": [
        {
          "type": "help",
          "helpvalue": "<div class='alert alert-info'><strong>ðŸ“‹ How to Add Scenes:</strong><ol style='margin-bottom:0; padding-left: 20px;'><li>After configuring bridge details above, click <strong>Save</strong></li><li>Restart Homebridge and check the <strong>Logs</strong> tab</li><li>Look for the list: <code>[Hue Transitions] Available scenes:</code></li><li>Copy the <strong>Scene ID</strong> (UUID format) and <strong>Name</strong> from the logs</li><li>Click <strong>Add Scenes</strong> below and paste the values</li><li>Set your desired <strong>Transition Duration</strong> (1-60 minutes)</li><li>Click <strong>Save</strong> when done</li></ol></div>"
        },
        {
          "key": "scenes",
          "type": "array",
          "title": "Scenes with Transition",
          "items": [
            {
              "type": "div",
              "displayFlex": true,
              "flex-direction": "row",
              "items": [
                {
                  "key": "scenes[].id",
                  "flex": "1 1 40%",
                  "placeholder": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
                },
                {
                  "key": "scenes[].name",
                  "flex": "1 1 30%",
                  "placeholder": "Scene name"
                },
                {
                  "key": "scenes[].transitionDuration",
                  "flex": "1 1 30%",
                  "placeholder": "30"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "fieldset",
      "title": "Advanced Settings",
      "expandable": true,
      "expanded": false,
      "items": [
        "pollingInterval",
        "debug"
      ]
    }
  ]
}
